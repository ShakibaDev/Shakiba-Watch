<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ساعت شکیبا</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;600;700&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --bg-color: #f7f7f7;
      --card-bg: #ffffff;
      --text-color: #000000;
      --shadow: rgba(0,0,0,0.15);
      --loader-bg: rgba(255,255,255,0.9);
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --bg-color: #121212;
        --card-bg: #1e1e1e;
        --text-color: #ffffff;
        --shadow: rgba(0,0,0,0.6);
        --loader-bg: rgba(0,0,0,0.9);
      }
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: sans-serif;
      background: var(--bg-color);
      color: var(--text-color);
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 30px 20px;
      text-align:center;
    }

    /* ✅ لوگو و نام برند */
    .brand {
      text-align: center;
      margin-bottom: 25px;
      animation: fadeDown 1s ease forwards;
      opacity: 0;
    }

    .brand img {
      width: 110px;
      max-width: 60vw;
      height: auto;
      border-radius: 150px;
    }

    .brand-name {
      margin-top: 10px;
      font-size: 22px;
      font-weight: bold;
      letter-spacing: 1px;
    }

    h2 {
      margin-bottom: 20px;
      font-size: clamp(18px, 4vw, 22px);
      animation: fadeUp 1s ease 0.3s forwards;
      opacity: 0;
    }

    a.button {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      width: 100%;
      max-width: 320px;
      margin: 10px 0;
      padding: 14px 18px;
      background: var(--card-bg);
      border-radius: 14px;
      text-decoration: none;
      font-size: clamp(15px, 4vw, 18px);
      color: var(--text-color);
      box-shadow: 0 3px 8px var(--shadow);
      transition: transform .15s ease, opacity .4s ease;
      animation: fadeUp 0.8s ease forwards;
      opacity: 0;
    }

    a.button:nth-of-type(1) { animation-delay: .4s; }
    a.button:nth-of-type(2) { animation-delay: .55s; }
    a.button:nth-of-type(3) { animation-delay: .7s; }
    a.button:nth-of-type(4) { animation-delay: .85s; }

    a.button:active {
      transform: scale(0.97);
    }

    a.button img {
      width: 26px;
      height: 26px;
    }

    /* ✅ لودینگ */
    #loader {
      position: fixed;
      inset: 0;
      background: var(--loader-bg);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }

    .spinner {
      width: 42px;
      height: 42px;
      border: 4px solid #999;
      border-top: 4px solid var(--text-color);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      100% { transform: rotate(360deg); }
    }

    @keyframes fadeDown {
      from { opacity: 0; transform: translateY(-20px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(20px); }
      to   { opacity: 1; transform: translateY(0); }
    }
  </style>

  <script>
    function detectOS() {
      const ua = navigator.userAgent || navigator.vendor;
      if (/android/i.test(ua)) return "android";
      if (/iPhone|iPad|iPod/.test(ua)) return "ios";
      return "web";
    }
  
    function openWithLoader(appLinks, webLink) {
      const loader = document.getElementById("loader");
      loader.style.display = "flex";
  
      const os = detectOS();
      const appLink = appLinks[os] || webLink;
  
      setTimeout(() => {
        window.location.href = appLink;
      }, 100);
  
      setTimeout(() => {
        loader.style.display = "none";   // ✅ جلوگیری از گیر کردن
        window.location.href = webLink;
      }, 1500);
    }
  </script>

</head>

<body>

  <div id="loader">
    <div class="spinner"></div>
  </div>

  <!-- ✅ برند -->
  <div class="brand">
    <img src="https://raw.githubusercontent.com/shakibadev/Shakiba-Watch/main/Logo/logo.jpg" alt="ساعت شکیبا">
    <div class="brand-name">ساعت شکیبا</div>
  </div>

  <h2>باز کردن با:</h2>

  <a class="button" href="#" onclick="openWithLoader(
    { android: 'neshan://', ios: 'neshan://' },
    'https://nshn.ir/d4_bffOp_JSG4b'
  )">
    نــشان
    <img src="https://raw.githubusercontent.com/shakibadev/Shakiba-Watch/main/Logo/neshan.png">
  </a>

  <a class="button" href="#" onclick="openWithLoader(
    {
      android: 'instagram://user?username=Shakiba_Watch',
      ios: 'instagram://user?username=Shakiba_Watch'
    },
    'https://www.instagram.com/Shakiba_Watch'
  )">
    اینستاگرام
    <img src="https://raw.githubusercontent.com/shakibadev/Shakiba-Watch/main/Logo/Instagram.png">
  </a>

  <a class="button" href="#" onclick="openWithLoader(
    {
      android: 'tg://resolve?domain=Shakiba_Watch',
      ios: 'tg://resolve?domain=Shakiba_Watch'
    },
    'https://t.me/Shakiba_Watch'
  )">
    تلگرام
    <img src="https://raw.githubusercontent.com/shakibadev/Shakiba-Watch/main/Logo/Telegram.svg">
  </a>

  <a class="button" href="#" onclick="openWithLoader(
    {
      android: 'eitaa://user/Shakiba_Watch',
      ios: 'eitaa://user/Shakiba_Watch'
    },
    'https://eitaa.com/Shakiba_Watch'
  )">
    ایتا
    <img src="https://raw.githubusercontent.com/shakibadev/Shakiba-Watch/main/Logo/eitaa.svg">
  </a>

</body>
</html>
